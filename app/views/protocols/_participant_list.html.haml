%h3= t(:participant)[:list]
#custom-toolbar
  = link_to t(:participant)[:new], new_protocol_participant_path(protocol_id: protocol.id), {class: 'btn btn-default btn-primary', id: 'new_participant_button', type: 'button', data: {toggle: 'modal', target: '#participantModal'}, remote: true}
%table{id: "participants-table", data: {toggle: 'table', search: "true", toolbar: '#custom-toolbar',  url: "/protocols/#{protocol.id}/participants.json", striped: "true", height: "400", sort: {name: 'last_name', order: 'asc'}, show: {columns: "true", refresh: "true", toggle: "true"}, select: {item: {name: "toolbar1"}}}}
  %thead
    %tr
      %th{data: {align: "left", sortable: "true", formatter: "nameFormatter", field: "last_name"}}= t(:participant)[:last_name]
      %th{data: {align: "left", sortable: "true", formatter: "nameFormatter", field: "first_name"}}= t(:participant)[:first_name]
      %th{data: {align: "left", sortable: "true", field: "mrn"}}= t(:participant)[:mrn]
      %th{data: {align: "left", sortable: "true", field: "status"}}= t(:participant)[:status]
      %th{data: {align: "left", sortable: "true", field: "date_of_birth"}}= t(:participant)[:dob]
      %th{data: {align: "left", sortable: "true", field: "gender"}}= t(:participant)[:gender]
      %th{data: {align: "left", sortable: "true", field: "race"}}= t(:participant)[:race]
      %th{data: {align: "left", sortable: "true", field: "ethnicity"}}= t(:participant)[:ethnicity]
      %th{data: {align: "center", formatter: "editFormatter", field: "edit", events: "operateEvents", width: "5"}}= t(:actions)[:edit]
      %th{data: {align: "center", formatter: "deleteFormatter", field: "delete", events: "operateEvents", width: "5"}}= t(:actions)[:delete]

.modal.fade#participantModal{tabindex: '-1', role: 'dialog', aria: {labelledby: "CreateNewParticipant", hidden: 'true'}}
  #modalPlace