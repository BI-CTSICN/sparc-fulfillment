- # Container for calendar
.service-calendar{class: "arm_#{arm.id}"}
  - # Headers (Services, Number of Participants, Visit Navigation, Empty for deleting line items)
  .row
    .col-sm-3.col-md-3.text-center.header Services
    .col-sm-1.col-md-1.text-center.header N
    .col-sm-1.col-md-1.header
      &nbsp
    .col-sm-5.col-md-5.text-center.header
      .glyphicon.glyphicon-arrow-left
      .glyphicon.glyphicon-arrow-right
    .col-sm-2.col-md-2.header
      &nbsp
  - # Display Arm Name
  .row.arm-name
    .col-sm-12.col-md-12= arm.name
  / - # Loop over each Line Item
  /   - # Display Line Item Name
  /   - # Display Number of Participants
  /   - # Loop over each Visit
  /     - # Display Visit
  /   - # Display removal icon
  .row
    .scrolling-div.col-md-12.col-sm-12
      - current_core = ''
      - arm.line_items.each do |line_item|
        - if line_item.sparc_core_name != current_core
          - current_core = line_item.sparc_core_name
          .row.core
            .col-sm-12.col-md-12= current_core
        .row
          .col-sm-3.col-md-3= select_tag 'line_item_name', options_for_select(['testing', 'wooo', line_item.name], line_item.name)
          .col-sm-1.col-md-1.text-center= line_item.subject_count
          .col-sm-1.col-md-1.text-center
            .btn.btn-primary.glyphicon.glyphicon-ok
          - visits = line_item.visits.paginate(:page => 1, :per_page => 5)
          - visits.each do |visit|
            .col-sm-1.col-md-1
              = check_box_tag "visit_check"
          - (visits.count...5).each do
            .col-sm-1.col-md-1 &nbsp
          .col-sm-2.col-md-2.text-center
            .btn.btn-danger.glyphicon.glyphicon-remove-sign
