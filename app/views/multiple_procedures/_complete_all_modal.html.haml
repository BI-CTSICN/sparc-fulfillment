#complete_all_modal.modal-dialog
  .modal-content
    .modal-header
      %button.close.close_modal{type: 'button', data: {dismiss: 'modal'}}
        %span{aria: {hidden:'true'}} &times;
        %span.sr-only
          = t(:actions)[:close]
      %h4.modal-title.text-center
        = t(:incomplete_complete_modal)[:complete_header]
    = form_tag update_procedures_multiple_procedures_path, method: 'put', remote: true, class: "form-horizontal", role: "form" do
      .modal-body
        #modal_errors
        - @procedures.each do |procedure|
          = hidden_field_tag 'procedure_ids[]', procedure.id
        = hidden_field_tag :status, "complete"
        .form-group
          = label_tag "completed_date", t(:incomplete_complete_modal)[:completed_date], class: "col-sm-4 control-label"
          .col-sm-7
            .input-group.date.modal_completed_date_field
              %input.datetimepicker{type: "text", class: "form-control"}
              = hidden_field_tag "completed_date", {class: "form-control datetimepicker", value: format_date(@procedures.first.completed_date)}
              %span.input-group-addon{ class: "#{ @procedures.first.appt_started? ? '' : 'pre_start_disabled' }" }
                %span.glyphicon.glyphicon-calendar
        .form-group
          = label_tag "performed_by", t(:incomplete_complete_modal)[:performed_by], class: "col-sm-4 control-label"
          .col-sm-7.modal-performed-by
            = select_tag "performed_by", options_for_select(@procedures.first.performable_by, "Poop"), class: "performed-by-dropdown selectpicker", data: { width: '125px' }, 'showIcon' => false
      .modal-footer
        .center-block
          %button.btn.btn-default.cancel.close_modal{type: 'button', data: {dismiss: 'modal'}}
            = t(:actions)[:close]
          %button.btn.btn-primary.save{type: 'submit'}
            = t(:actions)[:save]